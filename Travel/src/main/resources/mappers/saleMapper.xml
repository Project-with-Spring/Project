<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.Travel.mapper.SaleMapper">
	
	<select id="getCategoryList" resultType="com.Travel.domain.CategoryBean">
		select * from category where ctg_type=#{ctg_type}
	</select>
	
	<select id="getProductList" resultType="com.Travel.domain.ProductBean">
		select * from product 
	</select>
	
	<insert id="insertOrder">
		insert into `order`(ord_date,ord_total,pmt_name)
		values(#{ord_date},#{ord_total},#{pmt_name})
	</insert>
	
	<select id="getOrderId" resultType="java.lang.String">
		select max(ord_id) from `order` where ord_total=#{ord_total} and pmt_name=#{pmt_name}
	</select>
	
	<insert id="insertOrderDetail">
		insert into orderdetail(odt_count,ord_id,pdt_id)
		values(#{odt_count},#{ord_id},#{pdt_id})
	</insert>
</mapper>