<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.Travel.mapper.CategoryMapper">
	<select id="selectCategoryList" resultType="category">
		SELECT * FROM category
		<trim prefix="WHERE" prefixOverrides="AND|OR">
			<if test="searchType=='ctg_name' and searchText != null and searchText != ''">
				AND ctg_name like CONCAT('%', #{searchText}, '%')
			</if>
			<if test="searchType=='ctg_type' and searchText != null and searchText != ''">
				AND ctg_type like CONCAT('%', #{searchText}, '%')			
			</if>
		</trim>
	</select>
	
	<select id="selectCategory" resultType="category">
		SELECT * FROM category WHERE ctg_id=#{ctg_id }
	</select>
	
	<select id="countCategory" resultType="int">
		select count(ctg_id) from category
		<trim prefix="WHERE" prefixOverrides="AND|OR">
			<if test="searchText != null and searchText != ''">
				<if test="searchType == 'ctg_name'">
					AND ctg_name like CONCAT('%', #{searchText}, '%')
				</if>
				<if test="searchType == 'ctg_type'">
					AND ctg_type like CONCAT('%', #{searchText}, '%')
				</if>
			</if>
		</trim>
	</select>
	
	
</mapper>
